<!DOCTYPE html><html><head><title>Flex Notes</title><style>#sn-main,body{padding:0;margin:0}#sn-main,.sn-row{width:100vw;display:grid}#sn-header-cont,.sn-spacer{position:absolute;top:0;left:0}body{color:#eee;font-size:20px;font-family:Arial,sans-serif;overflow:hidden}#sn-main{height:100vh;grid-template-columns:1fr}.sn-row{height:100%;grid-template-rows:1fr}.sn-area{border-radius:0;resize:none;width:1fr;height:1fr;border:3px solid #000;padding:5px}.sn-row-cont{display:flex;algin-items:center;align-content:center;min-height:0;max-width:150vw}.sn-add{background:linear-gradient(to top right,#00f,#7db1ff);color:#fff;border:2px solid #00008b;box-shadow:0 0 20px #add8e6;font-size:45px;border-radius:50px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;margin:5px;transition:transform .3s}.sn-col-add,.sn-row-add{opacity:0;transition:opacity .3s linear;display:flex}.sn-add-red{background:linear-gradient(to top right,#ad0202,#ff5c5c);border-color:#850505}.sn-row-add .sn-add{transform:translateX(120%)}.sn-row-add{flex-direction:column;justify-content:center;transform:translate(-100%,0);padding-right:10px;background:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.sn-col-add .sn-add{transform:translateY(150%)}.sn-col-add{justify-content:center;width:100%;bottom:0;padding-bottom:10px;position:absolute;background:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.sn-col-add:hover,.sn-divider-cont:hover .sn-divider,.sn-row-add:hover{opacity:1}.sn-row-add:hover .sn-add{transform:translateX(0)}.sn-col-add:hover .sn-add{transform:translateY(0)}.sn-spacer{pointer-events:none}.sn-divider-cont{width:100vw;transform:translate(0,-50%);display:flex;align-items:center;justify-content:center;pointer-events:all;cursor:row-resize;position:absolute}.sn-divider-cont:active .sn-divider{width:100vw}.sn-divider-cont .sn-divider{width:90vw;opacity:.75;background:#fff;height:3px;transition:width .2s ease-out,opacity .2s ease-out}:root{--hover:#4f4f4f;--border:2px;--radius:45px;--height:6px}input:focus,select:focus,textarea:focus{outline:0}.button:active,input:active,input[type=text]:focus,select:active{background-image:linear-gradient(to left top,#292929,#121212);box-shadow:2px 2px var(--height) rgba(0,0,0,.7) inset,-2px -2px var(--height) rgba(240,240,240,.3) inset;border-color:transparent}.button,.contsolid,details,input,select{border:var(--border) #292929 solid;box-shadow:2px 2px var(--height) rgba(0,0,0,.7),-2px -2px var(--height) rgba(240,240,240,.3)}input,select{font-family:Tahoma,Arial,sans-serif;transition:box-shadow .5s,border .5s;background-image:linear-gradient(to left top,#121212,#292929);color:currentcolor;font-size:13px;padding:10px;margin:5px 0;border-radius:var(--radius);min-width:0}select{background-color:#222}.button:hover,input:hover,select:hover{border-color:var(--hover)}#sn-header-cont{width:100vw;height:5px}#sn-header-cont:hover .sn-header{transform:translate(0,0);box-shadow:0 0 10px #000}.sn-header{transform:translate(0,-100%);transition:transform .3s,box-shadow .3s;backdrop-filter:brightness(0.5) blur(5px);height:30px;display:block;width:100%;display:flex;align-items:center;flex-direction:row}.sn-header-menu{display:inline-block}.sn-header-btn{border-radius:5px;padding:3px 5px;margin:2px;border:none;background:0 0;color:#fff;transition:background .2s linear}.sn-header-btn:hover{background:rgba(0,0,0,.5)}.sn-header-version{margin-left:auto;margin-right:10px;font-size:20px}</style><meta charset="utf-8"><meta name="viewport" content="width=device-width"></head><body lang="en"><div id='sn-main' style='grid-template-rows: 1fr;'><div class='sn-row-cont'></div></div><div id='sn-over'><div class='sn-col-add'><button class='sn-add'>+</button><button class='sn-add sn-add-red'>-</button></div><div id='sn-header-cont'><div class='sn-header'><div class='sn-header-menu' id='sn-file-btn'><button class='sn-header-btn'>Save</button></div><div class='sn-header-menu' id='sn-edit-btn'><button class='sn-header-btn'>Load</button></div><div class='sn-header-version'>v0.1.0</div></div></div></div><script>class SNRow{constructor(e){this.add=this.add.bind(this),this.rem=this.rem.bind(this),this.cont=e,this.row=document.createElement("div"),this.row.classList.add("sn-row"),this.row.style.gridTemplateColumns="1fr",this.cont.appendChild(this.row);let t=document.createElement("textarea");t.classList.add("sn-area"),this.row.appendChild(t),this.areas=[t];let n=document.createElement("div");n.classList.add("sn-row-add"),this.cont.appendChild(n),this.addBtn=document.createElement("button"),this.addBtn.classList.add("sn-add"),this.addBtn.appendChild(document.createTextNode("+")),n.appendChild(this.addBtn),this.remBtn=document.createElement("button"),this.remBtn.className="sn-add sn-add-red",this.remBtn.appendChild(document.createTextNode("-")),n.appendChild(this.remBtn),this.addBtn.addEventListener("click",this.add),this.remBtn.addEventListener("click",this.rem)}add(){let e=document.createElement("textarea");e.classList.add("sn-area"),this.row.appendChild(e),this.areas.push(e),this.row.style.gridTemplateColumns="1fr";for(let t=1;t<this.areas.length;t++)this.row.style.gridTemplateColumns+=" 1fr"}rem(){if(1==this.areas.length||!confirm("Are you sure you want to delete the textarea?"))return;let e=this.areas.pop();e.remove(),this.row.style.gridTemplateColumns="1fr";for(let t=1;t<this.areas.length;t++)this.row.style.gridTemplateColumns+=" 1fr"}}const cont=document.getElementById("sn-main"),over=document.getElementById("sn-over"),rowLengths=[1],rows=[],dividers=[];function addCol(){try{let e=1/(rows.length+1),t=cont.style.gridTemplateRows.split(" "),n=Array.from(cont.children);rowLengths.length=0;for(let s=0;s<t.length;s++)t[s]=parseFloat(t[s]);let r=1-e,l="";for(let o=0;o<t.length;o++)!isNaN(t[o])&&(rowLengths.push(t[n.indexOf(rows[o].cont)]*r),l+=rowLengths[rowLengths.length-1].toString()+"fr ");rowLengths.push(e);let d=document.createElement("div");d.classList.add("sn-row-cont"),cont.appendChild(d),rows.push(new SNRow(d)),l+=e.toString()+"fr",cont.style.gridTemplateRows=l;let a=0;for(let h=0;h<dividers.length;h++)a+=rowLengths[h],dividers[h].style.paddingTop=(100*a).toString()+"vh";let g=rowLengths.length-1,c=document.createElement("div");c.classList.add("sn-spacer"),a+=rowLengths[dividers.length],c.style.paddingTop=(100*a).toString()+"vh";let w=document.createElement("div");w.classList.add("sn-divider-cont");let p=document.createElement("div");p.classList.add("sn-divider"),w.appendChild(p),c.appendChild(w),document.body.appendChild(c),dividers.push(c);let m=!1;w.addEventListener("mousedown",()=>{m=!0}),document.body.addEventListener("mouseup",()=>{m=!1}),document.body.addEventListener("mousemove",e=>{if(m){let t=0;for(let n=0;n<g-1;n++)t+=rowLengths[n];let s=Math.max(e.clientY/window.innerHeight,.05+t);c.style.paddingTop=(100*s).toString()+"vh";try{let r=rowLengths[g]+rowLengths[g-1];rowLengths[g-1]=s-t,rowLengths[g]=r-(s-t);let l="";for(let o=0;o<rowLengths.length;o++)l+=rowLengths[o].toString()+"fr ";cont.style.gridTemplateRows=l}catch(d){alert(d.stack)}}})}catch(f){alert(f.stack)}}function remCol(){if(1==rows.length||!confirm("Are you sure you want to delete the last column?"))return;rows.pop().cont.remove(),dividers.pop().remove();let e=cont.style.gridTemplateRows.split(" ");rows.length;let t=Array.from(cont.children);rowLengths.length=0;for(let n=0;n<e.length;n++)e[n]=parseFloat(e[n]);let s=1-e[e.length-1],r="";for(let l=0;l<rows.length;l++)rowLengths.push(e[t.indexOf(rows[l].cont)]/s),r+=rowLengths[rowLengths.length-1].toString()+"fr ";cont.style.gridTemplateRows=r;let o=0;for(let d=0;d<dividers.length;d++)o+=rowLengths[d],dividers[d].style.paddingTop=(100*o).toString()+"vh"}function saveConfig(){let e=0,t=0;for(let n=0;n<rows.length;n++){e+=rows[n].areas.length;for(let s=0;s<rows[n].areas.length;s++)t+=rows[n].areas[s].value.length}let r=new ArrayBuffer(12+6*rows.length+4*e+t),l=new DataView(r),o=new Uint8Array(r);l.setBigUint64(0,BigInt("16539637033343261271")),l.setUint16(8,0),l.setUint16(10,rows.length);let d=12,a=cont.style.gridTemplateRows.split(" ");for(let h=0;h<a.length;h++)l.setFloat32(d,parseFloat(a[h])),d+=4;let g=new TextEncoder;for(let c=0;c<rows.length;c++){l.setUint16(d,rows[c].areas.length),d+=2;for(let w=0;w<rows[c].areas.length;w++)l.setUint32(d,rows[c].areas[w].value.length),d+=4,o.set(g.encode(rows[c].areas[w].value),d),d+=rows[c].areas[w].value.length}let p=document.createElement("a");p.download="export.fn",p.href=URL.createObjectURL(new Blob([r])),p.click(),URL.revokeObjectURL(dwnArch.href)}function loadConfig(){if(!confirm("Are you sure you want to load a file? (Your work will be replaced!)"))return;let e=document.createElement("input");e.type="file",e.accept=".fn",e.addEventListener("change",()=>{if(e.remove(),0==e.files.length){alert("Please upload some files");return}let t=new FileReader;t.onload=()=>{try{let e=t.result,n=new DataView(e);if(n.getBigUint64(0)!=BigInt("16539637033343261271")||n.getUint16(8)>0){alert("Invalid File!");return}let s=n.getUint16(10),r=12;for(let l=0;l<rows.length;l++)rows[l].cont.remove();for(let o=0;o<dividers.length;o++)dividers[o].remove();rowLengths.length=0,rows.length=0,dividers.length=0,cont.style.gridTemplateRows="";let d="",a=0;for(let h=0;h<s;h++){rowLengths.push(n.getFloat32(r)),d+=rowLengths[rowLengths.length-1].toString()+"fr ";let g=document.createElement("div");if(g.classList.add("sn-row-cont"),cont.appendChild(g),rows.push(new SNRow(g)),h>0){let c=document.createElement("div");c.classList.add("sn-spacer"),c.style.paddingTop=(100*a).toString()+"vh";let w=document.createElement("div");w.classList.add("sn-divider-cont");let p=document.createElement("div");p.classList.add("sn-divider"),w.appendChild(p),c.appendChild(w),document.body.appendChild(c),dividers.push(c);let m=!1;w.addEventListener("mousedown",()=>{m=!0}),document.body.addEventListener("mouseup",()=>{m=!1}),document.body.addEventListener("mousemove",e=>{if(m){let t=0;for(let n=0;n<h-1;n++)t+=rowLengths[n];let s=Math.max(e.clientY/window.innerHeight,.05+t);c.style.paddingTop=(100*s).toString()+"vh";let r=rowLengths[h]+rowLengths[h-1];rowLengths[h-1]=s-t,rowLengths[h]=r-(s-t);let l="";for(let o=0;o<rowLengths.length;o++)l+=rowLengths[o].toString()+"fr ";cont.style.gridTemplateRows=l}})}r+=4,a+=rowLengths[rowLengths.length-1]}cont.style.gridTemplateRows=d;let f=new TextDecoder;for(let $=0;$<s;$++){let v=n.getUint16(r);r+=2;for(let L=0;L<v;L++){let u=new Uint8Array(new ArrayBuffer(n.getUint32(r)));r+=4;for(let _=0;_<u.buffer.byteLength;_++)u[_]=n.getUint8(r),r++;0!=L&&rows[$].add(),rows[$].areas[L].value=f.decode(u)}}}catch(y){alert(y.stack)}},t.readAsArrayBuffer(e.files[0])}),e.click()}console.log=parent.vcnslog;const colAddBtn=document.getElementsByClassName("sn-add")[0];colAddBtn.addEventListener("click",addCol);const colRemBtn=document.getElementsByClassName("sn-add-red")[0];colRemBtn.addEventListener("click",remCol);const fileBtn=document.getElementById("sn-file-btn").getElementsByClassName("sn-header-btn")[0];fileBtn.addEventListener("click",saveConfig);const editBtn=document.getElementById("sn-edit-btn").getElementsByClassName("sn-header-btn")[0];editBtn.addEventListener("click",loadConfig);const i_rows=document.getElementsByClassName("sn-row-cont");for(let i=0;i<i_rows.length;i++)rows.push(new SNRow(i_rows[i]));window.onbeforeunload=()=>{if(rows.length>1){return 0};if(rows[0].areas.length>1){return 0};if(rows[0].areas[0].value.length>0){return 0}}</script></body></html>