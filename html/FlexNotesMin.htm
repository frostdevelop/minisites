<!DOCTYPE html><html><head><title>Flex Notes</title><style>#sn-main,.sn-row{width:100vw;display:grid}.button,body,input,select{font-family:Arial,sans-serif}#sn-header-cont,.sn-modal-cont,.sn-spacer{top:0;left:0;position:absolute}#sn-main,body{padding:0;margin:0}#sn-header-cont,.sn-close,.sn-col-add,.sn-divider-cont,.sn-modal-cont,.sn-spacer{position:absolute}body{color:#eee;font-size:20px;overflow:hidden}#sn-main{height:100vh;grid-template-columns:1fr}.sn-row{height:100%;grid-template-rows:1fr}.sn-area{border-radius:0;resize:none;font-size:inherit;width:1fr;height:1fr;border:3px solid #000;padding:5px}.sn-row-cont{display:flex;algin-items:center;align-content:center;min-height:0;max-width:150vw}.sn-add{background:linear-gradient(to top right,#00f,#7db1ff);color:#fff;border:2px solid #00008b;box-shadow:0 0 20px #add8e6;font-size:45px;border-radius:50px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;margin:5px;transition:transform .3s}.sn-col-add,.sn-row-add{opacity:0;transition:opacity .3s linear;display:flex}.sn-add-red{background:linear-gradient(to top right,#ad0202,#ff5c5c);border-color:#850505}.sn-row-add .sn-add{transform:translateX(120%)}.sn-row-add{flex-direction:column;justify-content:center;transform:translate(-100%,0);padding-right:10px;background:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.sn-col-add .sn-add{transform:translateY(150%)}.sn-col-add{justify-content:center;width:100%;bottom:0;padding-bottom:10px;background:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.sn-col-add:hover,.sn-divider-cont:hover .sn-divider,.sn-row-add:hover{opacity:1}.sn-row-add:hover .sn-add{transform:translateX(0)}.sn-col-add:hover .sn-add{transform:translateY(0)}.sn-spacer{pointer-events:none}.sn-divider-cont{width:100vw;transform:translate(0,-50%);display:flex;align-items:center;justify-content:center;pointer-events:all;cursor:row-resize}.sn-divider-cont:active .sn-divider{width:100vw}.sn-divider-cont .sn-divider{width:90vw;opacity:.75;background:#fff;height:3px;transition:width .2s ease-out,opacity .2s ease-out}:root{--hover:rgba(255,255,255,0.2);--border:2px;--radius:45px;--height:6px}input:focus,select:focus,textarea:focus{outline:0}.button:active,input:active,input[type=text]:focus,select:active{box-shadow:2px 2px var(--height) rgba(0,0,0,.6) inset,-2px -2px var(--height) rgba(240,240,240,.6) inset;border-color:transparent}.button,.contsolid,details,input,select{border:var(--border) transparent solid;box-shadow:2px 2px var(--height) rgba(0,0,0,.6),-2px -2px var(--height) rgba(240,240,240,.6)}.button,input,select{transition:box-shadow .5s,border .5s;background:0 0;color:currentcolor;font-size:13px;padding:10px;margin:5px 0;border-radius:var(--radius);min-width:0}td,th{padding:5px}select{background-color:#222}.button:hover,input:hover,select:hover{border-color:var(--hover)}h3{font-weight:400;font-size:25px;margin:5px;text-align:center}#sn-header-cont{width:100vw;height:5px}#sn-header-cont:hover .sn-header{transform:translate(0,0);box-shadow:0 0 10px #000}.sn-header{transform:translate(0,-100%);transition:transform .3s,box-shadow .3s;backdrop-filter:brightness(0.5) blur(5px);height:30px;display:block;width:100%;display:flex;align-items:center;flex-direction:row}.sn-header-menu{display:inline-block}.sn-header-btn{border-radius:5px;padding:3px 5px;margin:2px;border:none;background:0 0;color:#fff;transition:background .2s linear}.sn-header-btn:hover{background:rgba(0,0,0,.5)}.sn-header-version{margin-left:auto;margin-right:10px;font-size:20px}.sn-modal-cont{z-index:100;background:rgba(0,0,0,.7);width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;transition:opacity .3s}.sn-icobtn,.sn-numinp,.sn-numinp-inc{display:inline-flex}.sn-modal-cont.hidden{opacity:0;pointer-events:none}.sn-modal-cont.hidden .sn-modal{transform:scale(.5)}.sn-modal-cont .sn-modal{height:60vh;width:50vw;backdrop-filter:blur(8px);background:linear-gradient(to top right,rgba(255,255,255,0),rgba(255,255,255,.1));box-shadow:0 1px 3px rgba(255,255,255,.4) inset,0 50px 80px rgba(0,0,0,.2),0 6px 10px rgba(255,255,255,.4) inset,0 -1px 3px rgba(255,255,255,.1) inset;border:1px solid rgba(255,255,255,.4);border-radius:50px;overflow:hidden;padding:25px 35px;transition:transform .3s;max-width:500px;display:flex;flex-direction:column}.sn-modal-cont .sn-modal::before{content:'';position:absolute;top:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.8),transparent)}.sn-modal-title{font-size:30px;color:#eee}.sn-modal-div{margin:10px -50px;opacity:.3}.sn-numinp{flex-direction:column}.sn-numinp .sn-inp-maincont{display:flex}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.sn-numinp .sn-inp-caption{text-align:center;margin-bottom:5px}.sn-numinp input[type=number]{font-size:40px;padding:10px;width:50px}.sn-numinp-inc{flex-direction:column;justify-content:space-between;margin:0 10px}.sn-numinp-inc button{font-size:30px;width:30px;height:30px}.sn-icobtn{align-items:center;justify-content:center;cursor:pointer}.sn-close{font-size:40px;width:40px;height:40px;top:15px;right:30px}table{border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto}th{border:3px solid rgba(255,255,255,.5)}td{border:3px solid rgba(255,255,255,.2)}.sn-modal-scroll{overflow-y:auto;margin:0 -10px;padding:0 10px;min-height:82%}.sn-modal-foot{margin-top:5px;font-size:15px}</style><meta charset="utf-8"><meta name="viewport" content="width=device-width"></head><body lang="en"><div id='sn-main' style='grid-template-rows: 1fr;font-size:12px'><div class='sn-row-cont'></div></div><div id='sn-over'><div class='sn-col-add'><button class='sn-add'>+</button><button class='sn-add sn-add-red'>-</button></div><div id='sn-header-cont'><div class='sn-header'><div class='sn-header-menu' id='sn-file-btn'><button class='sn-header-btn'>Save</button></div><div class='sn-header-menu' id='sn-edit-btn'><button class='sn-header-btn'>Load</button></div><div class='sn-header-menu' id='sn-pref-btn'><button class='sn-header-btn'>Preferences</button></div><div class='sn-header-menu' id='sn-help-btn'><button class='sn-header-btn'>Help</button></div><div class='sn-header-version'>v0.1.2</div></div></div></div><div id='sn-overlay'><div id='sn-prefmodal' class='sn-modal-cont hidden'><div class='sn-modal'><button class='button sn-close sn-icobtn sn-modal-close'>×</button><div class='sn-modal-title'>Preferences</div> <hr class='sn-modal-div'/><div class='sn-modal-scroll'><div class='sn-numinp' title='Font size'><span class='sn-inp-caption'>Font Size</span><div class='sn-inp-maincont'><input type='number' class='sn-inp-main sn-form-font' value='12' min='1'></input><div class='sn-numinp-inc'><button class='button sn-icobtn'>+</button><button class='button sn-icobtn'>-</button></div></div></div></div><span class='sn-modal-foot'>© 2025 Pacifiky. ||| CC BY-NC-SA 4.0</span></div></div><div id='sn-helpmodal' class='sn-modal-cont hidden'><div class='sn-modal'><button class='button sn-close sn-icobtn sn-modal-close'>×</button><div class='sn-modal-title'>Help</div> <hr class='sn-modal-div'/><div class='sn-modal-scroll'><h3>Shortcuts</h3><table><thead><tr><th>Shortcut</th><th>Context</th><th>Result</th></tr></thead><tbody><tr><td>Ctrl+?</td><td>Global</td><td>Open help</td></tr><tr><td>Ctrl+s</td><td>Global</td><td>Save file</td></tr><tr><td>Ctrl+i</td><td>Global</td><td>Import file</td></tr><tr><td>Ctrl+p</td><td>Global</td><td>Open preferences</td></tr><td>Ctrl+j</td><td>Global</td><td>Add row</td></tr><td>Ctrl+k</td><td>Global</td><td>Remove row</td></tr></tbody></table></div></div></div></div><script>const numbInputs=document.getElementsByClassName("sn-numinp");for(let i=0;i<numbInputs.length;i++){let e=numbInputs[i].getElementsByClassName("sn-inp-main")[0],t=numbInputs[i].getElementsByClassName("sn-numinp-inc")[0];t.children[0].addEventListener("click",()=>{let t=parseInt(e.value);(!e.max||t<e.max)&&(e.value=t+1,e.dispatchEvent(new Event("change")))}),t.children[1].addEventListener("click",()=>{let t=parseInt(e.value);(!e.min||t>e.min)&&(e.value=t-1,e.dispatchEvent(new Event("change")))})}const snModals=document.getElementsByClassName("sn-modal-cont");for(let i=0;i<snModals.length;i++)snModals[i].getElementsByClassName("sn-modal-close")[0].addEventListener("click",()=>{snModals[i].classList.add("hidden")});class SNRow{constructor(e){this.add=this.add.bind(this),this.rem=this.rem.bind(this),this.cont=e,this.row=document.createElement("div"),this.row.classList.add("sn-row"),this.row.style.gridTemplateColumns="1fr",this.cont.appendChild(this.row);let t=document.createElement("textarea");t.classList.add("sn-area"),this.row.appendChild(t),this.areas=[t];let n=document.createElement("div");n.classList.add("sn-row-add"),this.cont.appendChild(n),this.addBtn=document.createElement("button"),this.addBtn.classList.add("sn-add"),this.addBtn.appendChild(document.createTextNode("+")),n.appendChild(this.addBtn),this.remBtn=document.createElement("button"),this.remBtn.className="sn-add sn-add-red",this.remBtn.appendChild(document.createTextNode("-")),n.appendChild(this.remBtn),this.addBtn.addEventListener("click",this.add),this.remBtn.addEventListener("click",this.rem)}add(){let e=document.createElement("textarea");e.classList.add("sn-area"),this.row.appendChild(e),this.areas.push(e),this.row.style.gridTemplateColumns="1fr";for(let t=1;t<this.areas.length;t++)this.row.style.gridTemplateColumns+=" 1fr"}rem(){if(1==this.areas.length||!confirm("Are you sure you want to delete the textarea?"))return;let e=this.areas.pop();e.remove(),this.row.style.gridTemplateColumns="1fr";for(let t=1;t<this.areas.length;t++)this.row.style.gridTemplateColumns+=" 1fr"}}const cont=document.getElementById("sn-main"),over=document.getElementById("sn-over"),prefModal=document.getElementById("sn-prefmodal"),helpModal=document.getElementById("sn-helpmodal"),rowLengths=[1],rows=[],dividers=[];function addCol(){try{let e=1/(rows.length+1),t=cont.style.gridTemplateRows.split(" "),n=Array.from(cont.children);rowLengths.length=0;for(let s=0;s<t.length;s++)t[s]=parseFloat(t[s]);let l=1-e,r="";for(let o=0;o<t.length;o++)!isNaN(t[o])&&(rowLengths.push(t[n.indexOf(rows[o].cont)]*l),r+=rowLengths[rowLengths.length-1].toString()+"fr ");rowLengths.push(e);let a=document.createElement("div");a.classList.add("sn-row-cont"),cont.appendChild(a),rows.push(new SNRow(a)),r+=e.toString()+"fr",cont.style.gridTemplateRows=r;let d=0;for(let h=0;h<dividers.length;h++)d+=rowLengths[h],dividers[h].style.paddingTop=(100*d).toString()+"vh";let g=rowLengths.length-1,c=document.createElement("div");c.classList.add("sn-spacer"),d+=rowLengths[dividers.length],c.style.paddingTop=(100*d).toString()+"vh";let m=document.createElement("div");m.classList.add("sn-divider-cont");let p=document.createElement("div");p.classList.add("sn-divider"),m.appendChild(p),c.appendChild(m),document.body.appendChild(c),dividers.push(c);let w=!1;m.addEventListener("mousedown",()=>{w=!0}),document.body.addEventListener("mouseup",()=>{w=!1}),document.body.addEventListener("mousemove",e=>{if(w){let t=0;for(let n=0;n<g-1;n++)t+=rowLengths[n];let s=Math.max(e.clientY/window.innerHeight,.05+t);c.style.paddingTop=(100*s).toString()+"vh";try{let l=rowLengths[g]+rowLengths[g-1];rowLengths[g-1]=s-t,rowLengths[g]=l-(s-t);let r="";for(let o=0;o<rowLengths.length;o++)r+=rowLengths[o].toString()+"fr ";cont.style.gridTemplateRows=r}catch(a){alert(a.stack)}}})}catch(f){alert(f.stack)}}function remCol(){if(1==rows.length||!confirm("Are you sure you want to delete the last column?"))return;rows.pop().cont.remove(),dividers.pop().remove();let e=cont.style.gridTemplateRows.split(" ");rows.length;let t=Array.from(cont.children);rowLengths.length=0;for(let n=0;n<e.length;n++)e[n]=parseFloat(e[n]);let s=1-e[e.length-1],l="";for(let r=0;r<rows.length;r++)rowLengths.push(e[t.indexOf(rows[r].cont)]/s),l+=rowLengths[rowLengths.length-1].toString()+"fr ";cont.style.gridTemplateRows=l;let o=0;for(let a=0;a<dividers.length;a++)o+=rowLengths[a],dividers[a].style.paddingTop=(100*o).toString()+"vh"}function saveConfig(){let e=0,t=0;for(let n=0;n<rows.length;n++){e+=rows[n].areas.length;for(let s=0;s<rows[n].areas.length;s++)t+=rows[n].areas[s].value.length}let l=new ArrayBuffer(12+6*rows.length+4*e+t),r=new DataView(l),o=new Uint8Array(l);r.setBigUint64(0,BigInt("16539637033343261271")),r.setUint16(8,0),r.setUint16(10,rows.length);let a=12,d=cont.style.gridTemplateRows.split(" ");for(let h=0;h<d.length;h++)r.setFloat32(a,parseFloat(d[h])),a+=4;let g=new TextEncoder;for(let c=0;c<rows.length;c++){r.setUint16(a,rows[c].areas.length),a+=2;for(let m=0;m<rows[c].areas.length;m++)r.setUint32(a,rows[c].areas[m].value.length),a+=4,o.set(g.encode(rows[c].areas[m].value),a),a+=rows[c].areas[m].value.length}let p=document.createElement("a");p.download="export.fn",p.href=URL.createObjectURL(new Blob([l])),p.click(),URL.revokeObjectURL(dwnArch.href)}function loadConfig(){if(!confirm("Are you sure you want to load a file? (Your work will be replaced!)"))return;let e=document.createElement("input");e.type="file",e.accept=".fn",e.addEventListener("change",()=>{if(e.remove(),0==e.files.length){alert("Please upload some files");return}let t=new FileReader;t.onload=()=>{try{let e=t.result,n=new DataView(e);if(n.getBigUint64(0)!=BigInt("16539637033343261271")||n.getUint16(8)>0){alert("Invalid File!");return}let s=n.getUint16(10),l=12;for(let r=0;r<rows.length;r++)rows[r].cont.remove();for(let o=0;o<dividers.length;o++)dividers[o].remove();rowLengths.length=0,rows.length=0,dividers.length=0,cont.style.gridTemplateRows="";let a="",d=0;for(let h=0;h<s;h++){rowLengths.push(n.getFloat32(l)),a+=rowLengths[rowLengths.length-1].toString()+"fr ";let g=document.createElement("div");if(g.classList.add("sn-row-cont"),cont.appendChild(g),rows.push(new SNRow(g)),h>0){let c=document.createElement("div");c.classList.add("sn-spacer"),c.style.paddingTop=(100*d).toString()+"vh";let m=document.createElement("div");m.classList.add("sn-divider-cont");let p=document.createElement("div");p.classList.add("sn-divider"),m.appendChild(p),c.appendChild(m),document.body.appendChild(c),dividers.push(c);let w=!1;m.addEventListener("mousedown",()=>{w=!0}),document.body.addEventListener("mouseup",()=>{w=!1}),document.body.addEventListener("mousemove",e=>{if(w){let t=0;for(let n=0;n<h-1;n++)t+=rowLengths[n];let s=Math.max(e.clientY/window.innerHeight,.05+t);c.style.paddingTop=(100*s).toString()+"vh";let l=rowLengths[h]+rowLengths[h-1];rowLengths[h-1]=s-t,rowLengths[h]=l-(s-t);let r="";for(let o=0;o<rowLengths.length;o++)r+=rowLengths[o].toString()+"fr ";cont.style.gridTemplateRows=r}})}l+=4,d+=rowLengths[rowLengths.length-1]}cont.style.gridTemplateRows=a;let f=new TextDecoder;for(let v=0;v<s;v++){let $=n.getUint16(l);l+=2;for(let u=0;u<$;u++){let L=new Uint8Array(new ArrayBuffer(n.getUint32(l)));l+=4;for(let y=0;y<L.buffer.byteLength;y++)L[y]=n.getUint8(l),l++;0!=u&&rows[v].add(),rows[v].areas[u].value=f.decode(L)}}}catch(E){alert(E.stack)}},t.readAsArrayBuffer(e.files[0])}),e.click()}console.log=parent.vcnslog;const prefFont=prefModal.getElementsByClassName("sn-form-font")[0];prefFont.addEventListener("change",()=>{let e=Math.max(1,parseInt(prefFont.value))||1;prefFont.value=e,cont.style.fontSize=e.toString()+"px"});const colAddBtn=document.getElementsByClassName("sn-add")[0];colAddBtn.addEventListener("click",addCol);const colRemBtn=document.getElementsByClassName("sn-add-red")[0];colRemBtn.addEventListener("click",remCol);const fileBtn=document.getElementById("sn-file-btn").getElementsByClassName("sn-header-btn")[0];fileBtn.addEventListener("click",saveConfig);const editBtn=document.getElementById("sn-edit-btn").getElementsByClassName("sn-header-btn")[0];editBtn.addEventListener("click",loadConfig);const prefBtn=document.getElementById("sn-pref-btn").getElementsByClassName("sn-header-btn")[0],helpBtn=document.getElementById("sn-help-btn").getElementsByClassName("sn-header-btn")[0];prefBtn.addEventListener("click",()=>{prefModal.classList.remove("hidden")}),helpBtn.addEventListener("click",()=>{helpModal.classList.remove("hidden")});const i_rows=document.getElementsByClassName("sn-row-cont");for(let i=0;i<i_rows.length;i++)rows.push(new SNRow(i_rows[i]));document.addEventListener("keydown",e=>{if(e.ctrlKey)switch(e.key){case"s":saveConfig(),e.preventDefault();break;case"i":loadConfig();break;case"j":addCol(),e.preventDefault();break;case"k":remCol(),e.preventDefault();break;case"p":prefModal.classList.toggle("hidden"),e.preventDefault();break;case"/":helpModal.classList.toggle("hidden"),e.preventDefault()}else if("Escape"===e.key)for(let t=0;t<snModals.length;t++)snModals[t].classList.add("hidden")}),window.onbeforeunload=()=>{if(rows.length>1||rows[0].areas.length>1||rows[0].areas[0].value.length>0)return 0};</script></body></html>
